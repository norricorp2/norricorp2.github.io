var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function r(t,e,n=e){return t.set(n),e}function u(e){return e&&l(e.destroy)?e.destroy:t}const a="undefined"!=typeof window;let d=a?()=>window.performance.now():()=>Date.now(),f=a?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&f(h)}function m(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function v(t){return document.createTextNode(t)}function C(){return v(" ")}function _(){return v("")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function A(t,e,n){t.classList[n?"add":"remove"](e)}function L(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const O=new Set;let P,j=0;function S(t,e,n,o,s,l,i,c=0){const r=16.666/o;let u="{\n";for(let t=0;t<=1;t+=r){const o=e+(n-e)*l(t);u+=100*t+`%{${i(o,1-o)}}\n`}const a=u+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${c}`,f=t.ownerDocument;O.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(b("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${a}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${o}ms linear ${s}ms 1 both`,j+=1,d}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-o.length;s&&(t.style.animation=o.join(", "),j-=s,j||f((()=>{j||(O.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),O.clear())})))}function M(t){P=t}function N(){if(!P)throw new Error("Function called outside component initialization");return P}function z(t){N().$$.on_mount.push(t)}function B(){const t=N();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const s=L(e,n);o.slice().forEach((e=>{e.call(t,s)}))}}}const I=[],U=[],R=[],V=[],J=Promise.resolve();let H=!1;function q(t){R.push(t)}function F(t){V.push(t)}let W=!1;const G=new Set;function K(){if(!W){W=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];M(e),Q(e.$$)}for(M(null),I.length=0;U.length;)U.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];G.has(e)||(G.add(e),e())}R.length=0}while(I.length);for(;V.length;)V.pop()();H=!1,W=!1,G.clear()}}function Q(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}let X;function Y(t,e,n){t.dispatchEvent(L(`${e?"intro":"outro"}${n}`))}const Z=new Set;let tt;function et(){tt={r:0,c:[],p:tt}}function nt(){tt.r||s(tt.c),tt=tt.p}function ot(t,e){t&&t.i&&(Z.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(Z.has(t))return;Z.add(t),tt.c.push((()=>{Z.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const lt={duration:0};function it(n,o,i,c){let r=o(n,i),u=c?0:1,a=null,m=null,$=null;function g(){$&&D(n,$)}function b(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:l=0,duration:i=300,easing:c=e,tick:y=t,css:v}=r||lt,C={start:d()+l,b:o};o||(C.group=tt,tt.r+=1),a||m?m=C:(v&&(g(),$=S(n,u,o,i,l,c,v)),o&&y(0,1),a=b(C,i),q((()=>Y(n,o,"start"))),function(t){let e;0===p.size&&f(h),new Promise((n=>{p.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(a=b(m,i),m=null,Y(n,a.b,"start"),v&&(g(),$=S(n,u,a.b,a.duration,0,c,r.css))),a)if(t>=a.end)y(u=a.b,1-u),Y(n,a.b,"end"),m||(a.b?g():--a.group.r||s(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;u=a.a+a.d*c(e/a.duration),y(u,1-u)}return!(!a&&!m)})))}return{run(t){l(r)?(X||(X=Promise.resolve(),X.then((()=>{X=null}))),X).then((()=>{r=r(),y(t)})):y(t)},end(){g(),a=m=null}}}function ct(t,e){st(t,1,1,(()=>{e.delete(t.key)}))}function rt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function ut(t){t&&t.c()}function at(t,e,o,i){const{fragment:c,on_mount:r,on_destroy:u,after_update:a}=t.$$;c&&c.m(e,o),i||q((()=>{const e=r.map(n).filter(l);u?u.push(...e):s(e),t.$$.on_mount=[]})),a.forEach(q)}function dt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){-1===t.$$.dirty[0]&&(I.push(t),H||(H=!0,J.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pt(e,n,l,i,c,r,u=[-1]){const a=P;M(e);const d=e.$$={fragment:null,ctx:null,props:r,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:n.context||[]),callbacks:o(),dirty:u,skip_bound:!1};let f=!1;if(d.ctx=l?l(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),f&&ft(e,t)),n})):[],d.update(),f=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(g)}else d.fragment&&d.fragment.c();n.intro&&ot(e.$$.fragment),at(e,n.target,n.anchor,n.customElement),K()}M(a)}class ht{$destroy(){dt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var mt;function $t(e){let n,o,l,i,c,r,u,a,d,f,p,h,y,v,_,x,T,E,L,O,P,j,S,D,M,N;return{c(){n=b("div"),o=b("button"),l=b("span"),l.textContent="Show",i=C(),c=b("span"),c.textContent="All",r=C(),u=b("span"),u.textContent="tasks",d=C(),f=b("button"),p=b("span"),p.textContent="Show",h=C(),y=b("span"),y.textContent="Active",v=C(),_=b("span"),_.textContent="tasks",T=C(),E=b("button"),L=b("span"),L.textContent="Show",O=C(),P=b("span"),P.textContent="Completed",j=C(),S=b("span"),S.textContent="tasks",k(l,"class","visually-hidden"),k(u,"class","visually-hidden"),k(o,"class","btn toggle-btn"),k(o,"aria-pressed",a=e[0]===mt.ALL),A(o,"btn__primary",e[0]===mt.ALL),k(p,"class","visually-hidden"),k(_,"class","visually-hidden"),k(f,"class","btn toggle-btn"),k(f,"aria-pressed",x=e[0]===mt.ACTIVE),A(f,"btn__primary",e[0]===mt.ACTIVE),k(L,"class","visually-hidden"),k(S,"class","visually-hidden"),k(E,"class","btn toggle-btn"),k(E,"aria-pressed",D=e[0]===mt.COMPLETED),A(E,"btn__primary",e[0]===mt.COMPLETED),k(n,"class","filters btn-group stack-exception")},m(t,s){$(t,n,s),m(n,o),m(o,l),m(o,i),m(o,c),m(o,r),m(o,u),m(n,d),m(n,f),m(f,p),m(f,h),m(f,y),m(f,v),m(f,_),m(n,T),m(n,E),m(E,L),m(E,O),m(E,P),m(E,j),m(E,S),M||(N=[w(o,"click",e[1]),w(f,"click",e[2]),w(E,"click",e[3])],M=!0)},p(t,[e]){1&e&&a!==(a=t[0]===mt.ALL)&&k(o,"aria-pressed",a),1&e&&A(o,"btn__primary",t[0]===mt.ALL),1&e&&x!==(x=t[0]===mt.ACTIVE)&&k(f,"aria-pressed",x),1&e&&A(f,"btn__primary",t[0]===mt.ACTIVE),1&e&&D!==(D=t[0]===mt.COMPLETED)&&k(E,"aria-pressed",D),1&e&&A(E,"btn__primary",t[0]===mt.COMPLETED)},i:t,o:t,d(t){t&&g(n),M=!1,s(N)}}}function gt(t,e,n){let{filter:o=mt.ALL}=e;return t.$$set=t=>{"filter"in t&&n(0,o=t.filter)},[o,()=>n(0,o=mt.ALL),()=>n(0,o=mt.ACTIVE),()=>n(0,o=mt.COMPLETED)]}!function(t){t.ALL="all",t.ACTIVE="active",t.COMPLETED="completed"}(mt||(mt={}));class bt extends ht{constructor(t){super(),pt(this,t,gt,$t,i,{filter:0})}}function yt(t){if(t&&"function"==typeof t.select){const e=e=>t.select();return t.addEventListener("focus",e),{destroy:()=>t.removeEventListener("focus",e)}}}function vt(t){t&&"function"==typeof t.focus&&t.focus()}function Ct(t){let e,n,o,l,i,c,r,a,d,f,p,h,y,_,x,E,A,L,O,P,j,S=t[0].title+"",D=t[0].title+"",M=t[0].title+"";return{c(){e=b("div"),n=b("input"),i=C(),c=b("label"),r=v(S),d=C(),f=b("div"),p=b("button"),h=v("Edit"),y=b("span"),_=v(D),x=C(),E=b("button"),A=v("Delete"),L=b("span"),O=v(M),k(n,"type","checkbox"),k(n,"id",o="todo-"+t[0].id),n.checked=l=t[0].isComplete,k(c,"for",a="todo-"+t[0].id),k(c,"class","todo-label"),k(e,"class","c-cb"),k(y,"class","visually-hidden"),k(p,"type","button"),k(p,"class","btn"),k(L,"class","visually-hidden"),k(E,"type","button"),k(E,"class","btn btn__danger"),k(f,"class","btn-group")},m(o,s){$(o,e,s),m(e,n),m(e,i),m(e,c),m(c,r),$(o,d,s),$(o,f,s),m(f,p),m(p,h),m(p,y),m(y,_),m(f,x),m(f,E),m(E,A),m(E,L),m(L,O),P||(j=[w(n,"click",t[7]),w(p,"click",t[6]),u(t[8].call(null,p)),w(E,"click",t[5])],P=!0)},p(t,e){1&e&&o!==(o="todo-"+t[0].id)&&k(n,"id",o),1&e&&l!==(l=t[0].isComplete)&&(n.checked=l),1&e&&S!==(S=t[0].title+"")&&T(r,S),1&e&&a!==(a="todo-"+t[0].id)&&k(c,"for",a),1&e&&D!==(D=t[0].title+"")&&T(_,D),1&e&&M!==(M=t[0].title+"")&&T(O,M)},d(t){t&&g(e),t&&g(d),t&&g(f),P=!1,s(j)}}}function _t(t){let e,n,o,l,i,c,r,a,d,f,p,h,y,_,A,L,O,P,j,S,D,M,N,z,B,I,U=t[0].title+"",R=t[0].title+"",V=t[0].title+"";return{c(){e=b("form"),n=b("div"),o=b("label"),l=v("New name for '"),i=v(U),c=v("'"),a=C(),d=b("input"),p=C(),h=b("div"),y=b("button"),_=v("Cancel"),A=b("span"),L=v("renaming "),O=v(R),P=C(),j=b("button"),S=v("Save"),D=b("span"),M=v("new name for "),N=v(V),k(o,"for",r="todo-"+t[0].id),k(o,"class","todo-label"),k(d,"type","text"),k(d,"id",f="todo-"+t[0].id),k(d,"autocomplete","off"),k(d,"class","todo-text"),k(n,"class","form-group"),k(A,"class","visually-hidden"),k(y,"class","btn todo-cancel"),k(y,"type","button"),k(D,"class","visually-hidden"),k(j,"class","btn btn__primary todo-edit"),k(j,"type","submit"),j.disabled=z=!t[2],k(h,"class","btn-group"),k(e,"class","stack-small")},m(s,r){$(s,e,r),m(e,n),m(n,o),m(o,l),m(o,i),m(o,c),m(n,a),m(n,d),E(d,t[2]),m(e,p),m(e,h),m(h,y),m(y,_),m(y,A),m(A,L),m(A,O),m(h,P),m(h,j),m(j,S),m(j,D),m(D,M),m(D,N),B||(I=[w(d,"input",t[9]),u(yt.call(null,d)),u(vt.call(null,d)),w(y,"click",t[3]),w(e,"submit",x(t[4])),w(e,"keydown",t[10])],B=!0)},p(t,e){1&e&&U!==(U=t[0].title+"")&&T(i,U),1&e&&r!==(r="todo-"+t[0].id)&&k(o,"for",r),1&e&&f!==(f="todo-"+t[0].id)&&k(d,"id",f),4&e&&d.value!==t[2]&&E(d,t[2]),1&e&&R!==(R=t[0].title+"")&&T(O,R),1&e&&V!==(V=t[0].title+"")&&T(N,V),4&e&&z!==(z=!t[2])&&(j.disabled=z)},d(t){t&&g(e),B=!1,s(I)}}}function wt(e){let n;function o(t,e){return t[1]?_t:Ct}let s=o(e),l=s(e);return{c(){n=b("div"),l.c(),k(n,"class","stack-small")},m(t,e){$(t,n,e),l.m(n,null)},p(t,[e]){s===(s=o(t))&&l?l.p(t,e):(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&g(n),l.d()}}}function xt(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,l){function i(t){try{r(o.next(t))}catch(t){l(t)}}function c(t){try{r(o.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};const s=B();let{todo:l}=e;console.log("into Todo.svelte : ",l);let i=!1,c=l.title,r=!1;function u(t){n(0,l=Object.assign(Object.assign({},l),t)),s("update",l)}function a(){n(2,c=l.title),n(1,i=!1)}return t.$$set=t=>{"todo"in t&&n(0,l=t.todo)},[l,i,c,a,function(){u({title:c}),n(1,i=!1)},function(){s("remove",l)},function(){return o(this,void 0,void 0,(function*(){r=!0,n(1,i=!0)}))},function(){u({isComplete:!l.isComplete})},t=>r&&t.focus(),function(){c=this.value,n(2,c)},t=>"Escape"===t.key&&a()]}class kt extends ht{constructor(t){super(),pt(this,t,xt,wt,i,{todo:0})}}function Tt(e){let n,o,l,i,c,r,u,a,d,f,p,h=e[1]?"Check":"Uncheck";return{c(){n=b("div"),o=b("button"),l=v(h),i=v(" all"),r=C(),u=b("button"),a=v("Remove completed"),k(o,"type","button"),k(o,"class","btn btn__primary"),o.disabled=c=0===e[0].length,k(u,"type","button"),k(u,"class","btn btn__primary"),u.disabled=d=0===e[2],k(n,"class","btn-group")},m(t,s){$(t,n,s),m(n,o),m(o,l),m(o,i),m(n,r),m(n,u),m(u,a),f||(p=[w(o,"click",e[3]),w(u,"click",e[4])],f=!0)},p(t,[e]){2&e&&h!==(h=t[1]?"Check":"Uncheck")&&T(l,h),1&e&&c!==(c=0===t[0].length)&&(o.disabled=c),4&e&&d!==(d=0===t[2])&&(u.disabled=d)},i:t,o:t,d(t){t&&g(n),f=!1,s(p)}}}function Et(t,e,n){let o;const s=B();let l=!0,{todos:i}=e;var c;return c=()=>{console.log("afterupdate"),o==i.length?(console.log("MoreActions, 2 completed is : ",l),n(1,l=!1)):0==o&&n(1,l=!0)},N().$$.after_update.push(c),t.$$set=t=>{"todos"in t&&n(0,i=t.todos)},t.$$.update=()=>{1&t.$$.dirty&&n(2,o=i.filter((t=>t.isComplete)).length)},[i,l,o,()=>{s("checkAll",l),n(1,l=!l),console.log("MoreActions, completed is : ",l)},()=>s("removeCompleted")]}class At extends ht{constructor(t){super(),pt(this,t,Et,Tt,i,{todos:0})}}function Lt(e){let n,o,l,i,c,r,a,d,f,p;return{c(){n=b("form"),o=b("h2"),o.innerHTML='<label for="todo-0" class="label__lg">What needs to be done?</label>',l=C(),i=b("input"),c=C(),r=b("button"),a=v("Add"),k(o,"class","label-wrapper"),k(i,"type","text"),k(i,"id","todo-0"),k(i,"autocomplete","off"),k(i,"class","input input__lg"),k(r,"type","submit"),r.disabled=d=!e[0],k(r,"class","btn btn__primary btn__lg")},m(t,s){$(t,n,s),m(n,o),m(n,l),m(n,i),E(i,e[0]),e[6](i),m(n,c),m(n,r),m(r,a),f||(p=[w(i,"input",e[5]),u(yt.call(null,i)),w(n,"submit",x(e[2])),w(n,"keydown",e[7])],f=!0)},p(t,[e]){1&e&&i.value!==t[0]&&E(i,t[0]),1&e&&d!==(d=!t[0])&&(r.disabled=d)},i:t,o:t,d(t){t&&g(n),e[6](null),f=!1,s(p)}}}function Ot(t,e,n){const o=B();let s,{autofocus:l=!1}=e,i="";const c=()=>{n(0,i=""),s.focus()};z((()=>l&&s.focus()));return t.$$set=t=>{"autofocus"in t&&n(4,l=t.autofocus)},[i,s,()=>{o("addTodo",i),n(0,i=""),s.focus()},c,l,function(){i=this.value,n(0,i)},function(t){U[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},t=>"Escape"===t.key&&c()]}class Pt extends ht{constructor(t){super(),pt(this,t,Ot,Lt,i,{autofocus:4})}}function jt(e){let n,o,s,l,i;return{c(){n=b("h2"),o=v(e[2]),s=v(" out of "),l=v(e[1]),i=v(" items completed"),k(n,"id","list-heading"),k(n,"tabindex",-1)},m(t,c){$(t,n,c),m(n,o),m(n,s),m(n,l),m(n,i),e[5](n)},p(t,[e]){4&e&&T(o,t[2]),2&e&&T(l,t[1])},i:t,o:t,d(t){t&&g(n),e[5](null)}}}function St(t,e,n){let o,s,l,{todos:i}=e;return t.$$set=t=>{"todos"in t&&n(3,i=t.todos)},t.$$.update=()=>{8&t.$$.dirty&&n(1,o=i.length),8&t.$$.dirty&&n(2,s=i.filter((t=>t.isComplete)).length)},[l,o,s,i,function(){l.focus()},function(t){U[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class Dt extends ht{constructor(t){super(),pt(this,t,St,jt,i,{todos:3,focus:4})}get focus(){return this.$$.ctx[4]}}const Mt=[];function Nt(e,n=t){let o;const s=[];function l(t){if(i(e,t)&&(e=t,o)){const t=!Mt.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),Mt.push(n,e)}if(t){for(let t=0;t<Mt.length;t+=2)Mt[t][0](Mt[t+1]);Mt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(i,c=t){const r=[i,c];return s.push(r),1===s.length&&(o=n(l)||t),i(e),()=>{const t=s.indexOf(r);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}const zt=Nt("Welcome to the To-Do list app!"),Bt=Nt("");function It(t,e,n){const o=t.slice();return o[25]=e[n],o}function Ut(t){let e;return{c(){e=b("li"),e.textContent="Nothing to do here!"},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Rt(t,e){let n,o,s,l;return o=new kt({props:{todo:e[25]}}),o.$on("update",e[12]),o.$on("remove",e[13]),{key:t,first:null,c(){n=b("li"),ut(o.$$.fragment),s=C(),k(n,"class","todo"),this.first=n},m(t,e){$(t,n,e),at(o,n,null),m(n,s),l=!0},p(t,n){e=t;const s={};3&n&&(s.todo=e[25]),o.$set(s)},i(t){l||(ot(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&g(n),dt(o)}}}function Vt(t){let e,n,o,s,l,i,c,r,u,a,d,f,p,h,y,v,_=[],w=new Map;function x(e){t[10](e)}s=new Pt({props:{autofocus:!0}}),s.$on("addTodo",t[9]);let T={};void 0!==t[1]&&(T.filter=t[1]),i=new bt({props:T}),U.push((()=>rt(i,"filter",x)));let E={todos:t[0]};u=new Dt({props:E}),t[11](u);let A=t[6](t[1],t[0]);const L=t=>t[25].id;for(let e=0;e<A.length;e+=1){let n=It(t,A,e),o=L(n);w.set(o,_[e]=Rt(o,n))}let O=null;return A.length||(O=Ut()),y=new At({props:{todos:t[0]}}),y.$on("checkAll",t[14]),y.$on("removeCompleted",t[8]),{c(){e=b("h1"),e.textContent="Svelte To-Do list",n=C(),o=b("div"),ut(s.$$.fragment),l=C(),ut(i.$$.fragment),r=C(),ut(u.$$.fragment),a=C(),d=b("ul");for(let t=0;t<_.length;t+=1)_[t].c();O&&O.c(),f=C(),p=b("hr"),h=C(),ut(y.$$.fragment),k(d,"role","list"),k(d,"class","todo-list stack-large"),k(d,"aria-labelledby","list-heading"),k(o,"class","todoapp stack-large")},m(t,c){$(t,e,c),$(t,n,c),$(t,o,c),at(s,o,null),m(o,l),at(i,o,null),m(o,r),at(u,o,null),m(o,a),m(o,d);for(let t=0;t<_.length;t+=1)_[t].m(d,null);O&&O.m(d,null),m(o,f),m(o,p),m(o,h),at(y,o,null),v=!0},p(t,[e]){const n={};!c&&2&e&&(c=!0,n.filter=t[1],F((()=>c=!1))),i.$set(n);const o={};1&e&&(o.todos=t[0]),u.$set(o),107&e&&(A=t[6](t[1],t[0]),et(),_=function(t,e,n,o,s,l,i,c,r,u,a,d){let f=t.length,p=l.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const $=[],g=new Map,b=new Map;for(h=p;h--;){const t=d(s,l,h),c=n(t);let r=i.get(c);r?o&&r.p(t,e):(r=u(c,t),r.c()),g.set(c,$[h]=r),c in m&&b.set(c,Math.abs(h-m[c]))}const y=new Set,v=new Set;function C(t){ot(t,1),t.m(c,a),i.set(t.key,t),a=t.first,p--}for(;f&&p;){const e=$[p-1],n=t[f-1],o=e.key,s=n.key;e===n?(a=e.first,f--,p--):g.has(s)?!i.has(o)||y.has(o)?C(e):v.has(s)?f--:b.get(o)>b.get(s)?(v.add(o),C(e)):(y.add(s),f--):(r(n,i),f--)}for(;f--;){const e=t[f];g.has(e.key)||r(e,i)}for(;p;)C($[p-1]);return $}(_,e,L,1,t,A,w,d,ct,Rt,null,It),nt(),A.length?O&&(O.d(1),O=null):O||(O=Ut(),O.c(),O.m(d,null)));const s={};1&e&&(s.todos=t[0]),y.$set(s)},i(t){if(!v){ot(s.$$.fragment,t),ot(i.$$.fragment,t),ot(u.$$.fragment,t);for(let t=0;t<A.length;t+=1)ot(_[t]);ot(y.$$.fragment,t),v=!0}},o(t){st(s.$$.fragment,t),st(i.$$.fragment,t),st(u.$$.fragment,t);for(let t=0;t<_.length;t+=1)st(_[t]);st(y.$$.fragment,t),v=!1},d(l){l&&g(e),l&&g(n),l&&g(o),dt(s),dt(i),t[11](null),dt(u);for(let t=0;t<_.length;t+=1)_[t].d();O&&O.d(),dt(y)}}}let Jt="https:///88.111.150.77:3000/";function Ht(t,e,n){let o,s;c(t,Bt,(t=>n(16,o=t))),c(t,zt,(t=>n(17,s=t)));var l=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,l){function i(t){try{r(o.next(t))}catch(t){l(t)}}function c(t){try{r(o.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};let i,u,{todos:a=[]}=e;function d(t){n(0,a=a.filter((e=>e.id!==t.id))),function(t){l(this,void 0,void 0,(function*(){const e=yield fetch(Jt+"todos/"+t.id,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});204!=e.status&&(yield e.json().then((t=>{console.log("update todo : ",t)})).catch((t=>{console.error("UpdateTodo fetch problem:",t)})))}))}(t),i.focus(),r(zt,s=`Todo '${t.title}' has been deleted`,s)}function f(t){console.log("2 into Todos.svelte : ",a),function(t){l(this,void 0,void 0,(function*(){const e=yield fetch(Jt+"todos/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify({title:t,isComplete:!1})});204!=e.status&&(yield e.json().then((t=>{console.log("add todo : ",t),console.log("with id of : ",t.id),u=t.id})).catch((t=>{console.error("AddTodo PUT problem:",t)})))}))}(t),r(zt,s=`Todo '${t}' has been added`,s),n(0,a=[...a,{id:u,title:t,isComplete:!1}])}function p(t){const e=a.findIndex((e=>e.id===t.id));a[e].title!==t.title&&r(zt,s=`todo '${a[e].title}' has been renamed to '${t.title}'`,s),a[e].isComplete!==t.isComplete&&r(zt,s=`todo '${a[e].title}' marked as ${t.isComplete?"completed":"active"}`,s),n(0,a[e]=Object.assign(Object.assign({},a[e]),t),a),console.log("UpdateTodo: about to call doPut with token of : ",o),function(t){l(this,void 0,void 0,(function*(){const e=yield fetch(Jt+"todos/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify({title:t.title,isComplete:t.isComplete})});console.log("update todo status : ",e.status),204!=e.status&&(yield e.json().then((t=>{console.log("update todo : ",t)})).catch((t=>{console.error("UpdateTodo doPut problem:",t)})))}))}(t),console.log("UpdateTodo: completed doPut")}let h=mt.ALL;const m=t=>{a.forEach((e=>e.isComplete=t)),n(0,a=[...a]),function(t){l(this,void 0,void 0,(function*(){let e=JSON.stringify({isComplete:!t});const n=yield fetch(Jt+"todos?where="+e,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify({isComplete:t})});console.log("doCheckAllTodos todo status : ",n.status),yield n.json().then((t=>{console.log("doCheckAllTodos count : ",t.count)})).catch((t=>{200!=n.status&&console.error("doCheckAllTodos HTTP problem:",t)}))}))}(t),r(zt,s=`${t?"Checked":"Unchecked"} ${a.length} todos`,s)};z((()=>{!function(){l(this,void 0,void 0,(function*(){console.log("auth token is : ",o);const t=yield fetch(Jt+"todos",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}),e=yield t.json().catch((t=>{console.error("getAllTodos fetch problem:",t)}));console.log("todolist : ",e),e.forEach((t=>{let e={id:0,title:"0",isComplete:!0};e.id=t.id,e.title=t.title,void 0===t.isComplete?e.isComplete=!1:e.isComplete=t.isComplete,n(0,a=[...a,e])}))}))}()}));return t.$$set=t=>{"todos"in t&&n(0,a=t.todos)},t.$$.update=()=>{2&t.$$.dirty&&(h===mt.ALL?r(zt,s="Browsing all todos",s):h===mt.ACTIVE?r(zt,s="Browsing active todos",s):h===mt.COMPLETED&&r(zt,s="Browsing completed todos",s))},[a,h,i,d,f,p,(t,e)=>t===mt.ACTIVE?e.filter((t=>!t.isComplete)):t===mt.COMPLETED?e.filter((t=>t.isComplete)):e,m,()=>{r(zt,s=`Removed ${a.filter((t=>t.isComplete)).length} todos`,s),n(0,a=a.filter((t=>!t.isComplete))),function(){l(this,void 0,void 0,(function*(){let t=JSON.stringify({isComplete:!0});const e=yield fetch(Jt+"todos?where="+t,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});console.log("doDeleteAllCompletedTodos todo status : ",e.status),yield e.json().then((t=>{console.log("doDeleteAllCompletedTodos count : ",t.count)})).catch((t=>{200!=e.status&&console.error("doDeleteAllCompletedTodos HTTP problem:",t)}))}))}()},t=>f(t.detail),function(t){h=t,n(1,h)},function(t){U[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},t=>p(t.detail),t=>d(t.detail),t=>m(t.detail)]}class qt extends ht{constructor(t){super(),pt(this,t,Ht,Vt,i,{todos:0})}}function Ft(t){const e=t-1;return e*e*e+1}function Wt(t,{delay:e=0,duration:n=400,easing:o=Ft,x:s=0,y:l=0,opacity:i=0}={}){const c=getComputedStyle(t),r=+c.opacity,u="none"===c.transform?"":c.transform,a=r*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*s}px, ${(1-t)*l}px);\n\t\t\topacity: ${r-a*e}`}}function Gt(t){let e,n,o,s,l,i,c,r,u,a;return{c(){e=b("div"),n=y("svg"),o=y("path"),s=C(),l=b("p"),i=v(t[0]),k(o,"d","M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"viewBox","0 0 20 20"),k(n,"class","svelte-dxta7"),k(l,"class","svelte-dxta7"),k(e,"role","alert"),k(e,"class","svelte-dxta7")},m(c,d){$(c,e,d),m(e,n),m(n,o),m(e,s),m(e,l),m(l,i),r=!0,u||(a=w(e,"click",t[3]),u=!0)},p(t,e){(!r||1&e)&&T(i,t[0])},i(t){r||(q((()=>{c||(c=it(e,Wt,{delay:250,duration:300,x:0,y:-100,opacity:.5},!0)),c.run(1)})),r=!0)},o(t){c||(c=it(e,Wt,{delay:250,duration:300,x:0,y:-100,opacity:.5},!1)),c.run(0),r=!1},d(t){t&&g(e),t&&c&&c.end(),u=!1,a()}}}function Kt(t){let e,n,o=t[1]&&Gt(t);return{c(){o&&o.c(),e=_()},m(t,s){o&&o.m(t,s),$(t,e,s),n=!0},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&ot(o,1)):(o=Gt(t),o.c(),ot(o,1),o.m(e.parentNode,e)):o&&(et(),st(o,1,1,(()=>{o=null})),nt())},i(t){n||(ot(o),n=!0)},o(t){st(o),n=!1},d(t){o&&o.d(t),t&&g(e)}}}function Qt(t,e,n){let o;c(t,zt,(t=>n(0,o=t)));let s,l,{ms:i=3e3}=e;var r;r=()=>clearTimeout(l),N().$$.on_destroy.push(r);return t.$$set=t=>{"ms"in t&&n(2,i=t.ms)},t.$$.update=()=>{5&t.$$.dirty&&((t,e)=>{clearTimeout(l),t?(n(1,s=!0),e>0&&(l=setTimeout((()=>n(1,s=!1)),e))):n(1,s=!1)})(o,i)},[o,s,i,()=>n(1,s=!1)]}class Xt extends ht{constructor(t){super(),pt(this,t,Qt,Kt,i,{ms:2})}}function Yt(t){let e,n,o,l,i,c,r,u,a,d,f,p,h,y,_,T,A,L,O,P,j=t[2]&&Zt(t);return{c(){e=b("h2"),e.textContent="Login to Loopback Todo",n=C(),o=b("br"),l=C(),i=b("div"),c=b("form"),r=b("label"),u=v("Email:\r\n        "),a=b("input"),d=C(),f=b("label"),p=v("Password:\r\n        "),h=b("input"),y=C(),_=b("button"),T=v("Login"),L=C(),j&&j.c(),k(a,"type","email"),k(h,"type","password"),k(_,"type","submit"),_.disabled=A=""==t[0]||""==t[1],k(_,"class","btn"),k(c,"method","post"),k(i,"class","todoapp stack-large")},m(s,g){$(s,e,g),$(s,n,g),$(s,o,g),$(s,l,g),$(s,i,g),m(i,c),m(c,r),m(r,u),m(r,a),E(a,t[1]),m(c,d),m(c,f),m(f,p),m(f,h),E(h,t[0]),m(c,y),m(c,_),m(_,T),m(i,L),j&&j.m(i,null),O||(P=[w(a,"input",t[7]),w(h,"input",t[8]),w(c,"submit",x(t[5]))],O=!0)},p(t,e){2&e&&a.value!==t[1]&&E(a,t[1]),1&e&&h.value!==t[0]&&E(h,t[0]),3&e&&A!==(A=""==t[0]||""==t[1])&&(_.disabled=A),t[2]?j?j.p(t,e):(j=Zt(t),j.c(),j.m(i,null)):j&&(j.d(1),j=null)},d(t){t&&g(e),t&&g(n),t&&g(o),t&&g(l),t&&g(i),j&&j.d(),O=!1,s(P)}}}function Zt(t){let e,n,o,s,l,i,c,r=t[2].statusCode+"",u=t[2].message+"";return{c(){e=b("p"),n=v("Status code "),o=v(r),s=C(),l=b("br"),i=C(),c=v(u),k(e,"class","error-mess svelte-1ju2a49")},m(t,r){$(t,e,r),m(e,n),m(e,o),m(e,s),m(e,l),m(e,i),m(e,c)},p(t,e){4&e&&r!==(r=t[2].statusCode+"")&&T(o,r),4&e&&u!==(u=t[2].message+"")&&T(c,u)},d(t){t&&g(e)}}}function te(t){let e,n,o,s,l,i,c,r,u,a,d,f,p,h;function y(e){t[9](e)}r=new Xt({});let v={};return void 0!==t[4]&&(v.todos=t[4]),a=new qt({props:v}),U.push((()=>rt(a,"todos",y))),{c(){e=b("h2"),e.textContent="Loopback Todo",n=C(),o=b("br"),s=C(),l=b("div"),i=b("button"),i.textContent="Log Out",c=C(),ut(r.$$.fragment),u=C(),ut(a.$$.fragment),k(i,"class","btn")},m(d,g){$(d,e,g),$(d,n,g),$(d,o,g),$(d,s,g),$(d,l,g),m(l,i),$(d,c,g),at(r,d,g),$(d,u,g),at(a,d,g),f=!0,p||(h=w(i,"click",t[6]),p=!0)},p(t,e){const n={};!d&&16&e&&(d=!0,n.todos=t[4],F((()=>d=!1))),a.$set(n)},i(t){f||(ot(r.$$.fragment,t),ot(a.$$.fragment,t),f=!0)},o(t){st(r.$$.fragment,t),st(a.$$.fragment,t),f=!1},d(t){t&&g(e),t&&g(n),t&&g(o),t&&g(s),t&&g(l),t&&g(c),dt(r,t),t&&g(u),dt(a,t),p=!1,h()}}}function ee(t){let e,n,o,s=!t[3]&&Yt(t),l=t[3]&&te(t);return{c(){s&&s.c(),e=C(),l&&l.c(),n=_()},m(t,i){s&&s.m(t,i),$(t,e,i),l&&l.m(t,i),$(t,n,i),o=!0},p(t,[o]){t[3]?s&&(s.d(1),s=null):s?s.p(t,o):(s=Yt(t),s.c(),s.m(e.parentNode,e)),t[3]?l?(l.p(t,o),8&o&&ot(l,1)):(l=te(t),l.c(),ot(l,1),l.m(n.parentNode,n)):l&&(et(),st(l,1,1,(()=>{l=null})),nt())},i(t){o||(ot(l),o=!0)},o(t){st(l),o=!1},d(t){s&&s.d(t),t&&g(e),l&&l.d(t),t&&g(n)}}}function ne(t,e,n){let o;c(t,Bt,(t=>n(10,o=t)));var s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,l){function i(t){try{r(o.next(t))}catch(t){l(t)}}function c(t){try{r(o.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};let l,i="",u="",a=!1,d=[];return[i,u,l,a,d,()=>s(void 0,void 0,void 0,(function*(){const t=yield fetch("https://88.111.150.77:3000/users/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,password:i})}),e=yield t.json();e.token?(r(Bt,o=e.token,o),n(3,a=!0),n(1,u=""),n(0,i="")):(console.log(e.error),n(2,l=e.error),n(1,u=""),n(0,i="")),console.log("NORRIS: "+o)})),function(){r(Bt,o="",o),n(3,a=!1)},function(){u=this.value,n(1,u)},function(){i=this.value,n(0,i)},function(t){d=t,n(4,d)}]}return new class extends ht{constructor(t){super(),pt(this,t,ne,ee,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
