var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function r(t,e,n=e){return t.set(n),e}function u(e){return e&&l(e.destroy)?e.destroy:t}const d="undefined"!=typeof window;let a=d?()=>window.performance.now():()=>Date.now(),f=d?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&f(h)}function m(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function v(t){return document.createTextNode(t)}function C(){return v(" ")}function _(){return v("")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function T(t){return function(e){return e.preventDefault(),t.call(this,e)}}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function A(t,e,n){t.classList[n?"add":"remove"](e)}function O(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const L=new Set;let R,S=0;function N(t,e,n,o,s,l,i,c=0){const r=16.666/o;let u="{\n";for(let t=0;t<=1;t+=r){const o=e+(n-e)*l(t);u+=100*t+`%{${i(o,1-o)}}\n`}const d=u+`100% {${i(n,1-n)}}\n}`,a=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${c}`,f=t.ownerDocument;L.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(b("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[a]||(h[a]=!0,p.insertRule(`@keyframes ${a} ${d}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${a} ${o}ms linear ${s}ms 1 both`,S+=1,a}function I(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-o.length;s&&(t.style.animation=o.join(", "),S-=s,S||f((()=>{S||(L.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),L.clear())})))}function P(t){R=t}function j(){if(!R)throw new Error("Function called outside component initialization");return R}function D(t){j().$$.on_mount.push(t)}function M(){const t=j();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const s=O(e,n);o.slice().forEach((e=>{e.call(t,s)}))}}}const U=[],z=[],B=[],q=[],V=Promise.resolve();let J=!1;function H(t){B.push(t)}function F(t){q.push(t)}let W=!1;const G=new Set;function K(){if(!W){W=!0;do{for(let t=0;t<U.length;t+=1){const e=U[t];P(e),Q(e.$$)}for(P(null),U.length=0;z.length;)z.pop()();for(let t=0;t<B.length;t+=1){const e=B[t];G.has(e)||(G.add(e),e())}B.length=0}while(U.length);for(;q.length;)q.pop()();J=!1,W=!1,G.clear()}}function Q(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}let X;function Y(t,e,n){t.dispatchEvent(O(`${e?"intro":"outro"}${n}`))}const Z=new Set;let tt;function et(){tt={r:0,c:[],p:tt}}function nt(){tt.r||s(tt.c),tt=tt.p}function ot(t,e){t&&t.i&&(Z.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(Z.has(t))return;Z.add(t),tt.c.push((()=>{Z.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const lt={duration:0};function it(n,o,i,c){let r=o(n,i),u=c?0:1,d=null,m=null,g=null;function $(){g&&I(n,g)}function b(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:l=0,duration:i=300,easing:c=e,tick:y=t,css:v}=r||lt,C={start:a()+l,b:o};o||(C.group=tt,tt.r+=1),d||m?m=C:(v&&($(),g=N(n,u,o,i,l,c,v)),o&&y(0,1),d=b(C,i),H((()=>Y(n,o,"start"))),function(t){let e;0===p.size&&f(h),new Promise((n=>{p.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(d=b(m,i),m=null,Y(n,d.b,"start"),v&&($(),g=N(n,u,d.b,d.duration,0,c,r.css))),d)if(t>=d.end)y(u=d.b,1-u),Y(n,d.b,"end"),m||(d.b?$():--d.group.r||s(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*c(e/d.duration),y(u,1-u)}return!(!d&&!m)})))}return{run(t){l(r)?(X||(X=Promise.resolve(),X.then((()=>{X=null}))),X).then((()=>{r=r(),y(t)})):y(t)},end(){$(),d=m=null}}}function ct(t,e){st(t,1,1,(()=>{e.delete(t.key)}))}function rt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function ut(t){t&&t.c()}function dt(t,e,o,i){const{fragment:c,on_mount:r,on_destroy:u,after_update:d}=t.$$;c&&c.m(e,o),i||H((()=>{const e=r.map(n).filter(l);u?u.push(...e):s(e),t.$$.on_mount=[]})),d.forEach(H)}function at(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){-1===t.$$.dirty[0]&&(U.push(t),J||(J=!0,V.then(K)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pt(e,n,l,i,c,r,u=[-1]){const d=R;P(e);const a=e.$$={fragment:null,ctx:null,props:r,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:n.context||[]),callbacks:o(),dirty:u,skip_bound:!1};let f=!1;if(a.ctx=l?l(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return a.ctx&&c(a.ctx[t],a.ctx[t]=s)&&(!a.skip_bound&&a.bound[t]&&a.bound[t](s),f&&ft(e,t)),n})):[],a.update(),f=!0,s(a.before_update),a.fragment=!!i&&i(a.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);a.fragment&&a.fragment.l(t),t.forEach($)}else a.fragment&&a.fragment.c();n.intro&&ot(e.$$.fragment),dt(e,n.target,n.anchor,n.customElement),K()}P(d)}class ht{$destroy(){at(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var mt;function gt(e){let n,o,l,i,c,r,u,d,a,f,p,h,y,v,_,T,x,E,O,L,R,S,N,I,P,j;return{c(){n=b("div"),o=b("button"),l=b("span"),l.textContent="Show",i=C(),c=b("span"),c.textContent="All",r=C(),u=b("span"),u.textContent="tasks",a=C(),f=b("button"),p=b("span"),p.textContent="Show",h=C(),y=b("span"),y.textContent="Active",v=C(),_=b("span"),_.textContent="tasks",x=C(),E=b("button"),O=b("span"),O.textContent="Show",L=C(),R=b("span"),R.textContent="Completed",S=C(),N=b("span"),N.textContent="tasks",k(l,"class","visually-hidden"),k(u,"class","visually-hidden"),k(o,"class","btn toggle-btn"),k(o,"aria-pressed",d=e[0]===mt.ALL),A(o,"btn__primary",e[0]===mt.ALL),k(p,"class","visually-hidden"),k(_,"class","visually-hidden"),k(f,"class","btn toggle-btn"),k(f,"aria-pressed",T=e[0]===mt.ACTIVE),A(f,"btn__primary",e[0]===mt.ACTIVE),k(O,"class","visually-hidden"),k(N,"class","visually-hidden"),k(E,"class","btn toggle-btn"),k(E,"aria-pressed",I=e[0]===mt.COMPLETED),A(E,"btn__primary",e[0]===mt.COMPLETED),k(n,"class","filters btn-group stack-exception")},m(t,s){g(t,n,s),m(n,o),m(o,l),m(o,i),m(o,c),m(o,r),m(o,u),m(n,a),m(n,f),m(f,p),m(f,h),m(f,y),m(f,v),m(f,_),m(n,x),m(n,E),m(E,O),m(E,L),m(E,R),m(E,S),m(E,N),P||(j=[w(o,"click",e[1]),w(f,"click",e[2]),w(E,"click",e[3])],P=!0)},p(t,[e]){1&e&&d!==(d=t[0]===mt.ALL)&&k(o,"aria-pressed",d),1&e&&A(o,"btn__primary",t[0]===mt.ALL),1&e&&T!==(T=t[0]===mt.ACTIVE)&&k(f,"aria-pressed",T),1&e&&A(f,"btn__primary",t[0]===mt.ACTIVE),1&e&&I!==(I=t[0]===mt.COMPLETED)&&k(E,"aria-pressed",I),1&e&&A(E,"btn__primary",t[0]===mt.COMPLETED)},i:t,o:t,d(t){t&&$(n),P=!1,s(j)}}}function $t(t,e,n){let{filter:o=mt.ALL}=e;return t.$$set=t=>{"filter"in t&&n(0,o=t.filter)},[o,()=>n(0,o=mt.ALL),()=>n(0,o=mt.ACTIVE),()=>n(0,o=mt.COMPLETED)]}!function(t){t.ALL="all",t.ACTIVE="active",t.COMPLETED="completed"}(mt||(mt={}));class bt extends ht{constructor(t){super(),pt(this,t,$t,gt,i,{filter:0})}}function yt(t){if(t&&"function"==typeof t.select){const e=e=>t.select();return t.addEventListener("focus",e),{destroy:()=>t.removeEventListener("focus",e)}}}function vt(t){t&&"function"==typeof t.focus&&t.focus()}function Ct(t){let e,n,o,l,i,c,r,d,a,f,p,h,y,_,T,E,A,O,L,R,S,N=t[0].title+"",I=t[0].title+"",P=t[0].title+"";return{c(){e=b("div"),n=b("input"),i=C(),c=b("label"),r=v(N),a=C(),f=b("div"),p=b("button"),h=v("Edit"),y=b("span"),_=v(I),T=C(),E=b("button"),A=v("Delete"),O=b("span"),L=v(P),k(n,"type","checkbox"),k(n,"id",o="todo-"+t[0].id),n.checked=l=t[0].isComplete,k(c,"for",d="todo-"+t[0].id),k(c,"class","todo-label"),k(e,"class","c-cb"),k(y,"class","visually-hidden"),k(p,"type","button"),k(p,"class","btn"),k(O,"class","visually-hidden"),k(E,"type","button"),k(E,"class","btn btn__danger"),k(f,"class","btn-group")},m(o,s){g(o,e,s),m(e,n),m(e,i),m(e,c),m(c,r),g(o,a,s),g(o,f,s),m(f,p),m(p,h),m(p,y),m(y,_),m(f,T),m(f,E),m(E,A),m(E,O),m(O,L),R||(S=[w(n,"click",t[7]),w(p,"click",t[6]),u(t[8].call(null,p)),w(E,"click",t[5])],R=!0)},p(t,e){1&e&&o!==(o="todo-"+t[0].id)&&k(n,"id",o),1&e&&l!==(l=t[0].isComplete)&&(n.checked=l),1&e&&N!==(N=t[0].title+"")&&x(r,N),1&e&&d!==(d="todo-"+t[0].id)&&k(c,"for",d),1&e&&I!==(I=t[0].title+"")&&x(_,I),1&e&&P!==(P=t[0].title+"")&&x(L,P)},d(t){t&&$(e),t&&$(a),t&&$(f),R=!1,s(S)}}}function _t(t){let e,n,o,l,i,c,r,d,a,f,p,h,y,_,A,O,L,R,S,N,I,P,j,D,M,U,z=t[0].title+"",B=t[0].title+"",q=t[0].title+"";return{c(){e=b("form"),n=b("div"),o=b("label"),l=v("New name for '"),i=v(z),c=v("'"),d=C(),a=b("input"),p=C(),h=b("div"),y=b("button"),_=v("Cancel"),A=b("span"),O=v("renaming "),L=v(B),R=C(),S=b("button"),N=v("Save"),I=b("span"),P=v("new name for "),j=v(q),k(o,"for",r="todo-"+t[0].id),k(o,"class","todo-label"),k(a,"type","text"),k(a,"id",f="todo-"+t[0].id),k(a,"autocomplete","off"),k(a,"class","todo-text"),k(n,"class","form-group"),k(A,"class","visually-hidden"),k(y,"class","btn todo-cancel"),k(y,"type","button"),k(I,"class","visually-hidden"),k(S,"class","btn btn__primary todo-edit"),k(S,"type","submit"),S.disabled=D=!t[2],k(h,"class","btn-group"),k(e,"class","stack-small")},m(s,r){g(s,e,r),m(e,n),m(n,o),m(o,l),m(o,i),m(o,c),m(n,d),m(n,a),E(a,t[2]),m(e,p),m(e,h),m(h,y),m(y,_),m(y,A),m(A,O),m(A,L),m(h,R),m(h,S),m(S,N),m(S,I),m(I,P),m(I,j),M||(U=[w(a,"input",t[9]),u(yt.call(null,a)),u(vt.call(null,a)),w(y,"click",t[3]),w(e,"submit",T(t[4])),w(e,"keydown",t[10])],M=!0)},p(t,e){1&e&&z!==(z=t[0].title+"")&&x(i,z),1&e&&r!==(r="todo-"+t[0].id)&&k(o,"for",r),1&e&&f!==(f="todo-"+t[0].id)&&k(a,"id",f),4&e&&a.value!==t[2]&&E(a,t[2]),1&e&&B!==(B=t[0].title+"")&&x(L,B),1&e&&q!==(q=t[0].title+"")&&x(j,q),4&e&&D!==(D=!t[2])&&(S.disabled=D)},d(t){t&&$(e),M=!1,s(U)}}}function wt(e){let n;function o(t,e){return t[1]?_t:Ct}let s=o(e),l=s(e);return{c(){n=b("div"),l.c(),k(n,"class","stack-small")},m(t,e){g(t,n,e),l.m(n,null)},p(t,[e]){s===(s=o(t))&&l?l.p(t,e):(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&$(n),l.d()}}}function Tt(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,l){function i(t){try{r(o.next(t))}catch(t){l(t)}}function c(t){try{r(o.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};const s=M();let{todo:l}=e;console.log("into Todo.svelte : ",l);let i=!1,c=l.title,r=!1;function u(t){n(0,l=Object.assign(Object.assign({},l),t)),s("update",l)}function d(){n(2,c=l.title),n(1,i=!1)}return t.$$set=t=>{"todo"in t&&n(0,l=t.todo)},[l,i,c,d,function(){u({title:c}),n(1,i=!1)},function(){s("remove",l)},function(){return o(this,void 0,void 0,(function*(){r=!0,n(1,i=!0)}))},function(){u({isComplete:!l.isComplete})},t=>r&&t.focus(),function(){c=this.value,n(2,c)},t=>"Escape"===t.key&&d()]}class kt extends ht{constructor(t){super(),pt(this,t,Tt,wt,i,{todo:0})}}function xt(e){let n,o,l,i,c,r,u,d,a,f,p,h=e[1]?"Check":"Uncheck";return{c(){n=b("div"),o=b("button"),l=v(h),i=v(" all"),r=C(),u=b("button"),d=v("Remove completed"),k(o,"type","button"),k(o,"class","btn btn__primary"),o.disabled=c=0===e[0].length,k(u,"type","button"),k(u,"class","btn btn__primary"),u.disabled=a=0===e[2],k(n,"class","btn-group")},m(t,s){g(t,n,s),m(n,o),m(o,l),m(o,i),m(n,r),m(n,u),m(u,d),f||(p=[w(o,"click",e[3]),w(u,"click",e[4])],f=!0)},p(t,[e]){2&e&&h!==(h=t[1]?"Check":"Uncheck")&&x(l,h),1&e&&c!==(c=0===t[0].length)&&(o.disabled=c),4&e&&a!==(a=0===t[2])&&(u.disabled=a)},i:t,o:t,d(t){t&&$(n),f=!1,s(p)}}}function Et(t,e,n){let o;const s=M();let l=!0,{todos:i}=e;var c;return c=()=>{console.log("afterupdate"),o==i.length?(console.log("MoreActions, 2 completed is : ",l),n(1,l=!1)):0==o&&n(1,l=!0)},j().$$.after_update.push(c),t.$$set=t=>{"todos"in t&&n(0,i=t.todos)},t.$$.update=()=>{1&t.$$.dirty&&n(2,o=i.filter((t=>t.isComplete)).length)},[i,l,o,()=>{s("checkAll",l),n(1,l=!l),console.log("MoreActions, completed is : ",l)},()=>s("removeCompleted")]}class At extends ht{constructor(t){super(),pt(this,t,Et,xt,i,{todos:0})}}function Ot(e){let n,o,l,i,c,r,d,a,f,p;return{c(){n=b("form"),o=b("h2"),o.innerHTML='<label for="todo-0" class="label__lg">What needs to be done?</label>',l=C(),i=b("input"),c=C(),r=b("button"),d=v("Add"),k(o,"class","label-wrapper"),k(i,"type","text"),k(i,"id","todo-0"),k(i,"autocomplete","off"),k(i,"class","input input__lg"),k(r,"type","submit"),r.disabled=a=!e[0],k(r,"class","btn btn__primary btn__lg")},m(t,s){g(t,n,s),m(n,o),m(n,l),m(n,i),E(i,e[0]),e[6](i),m(n,c),m(n,r),m(r,d),f||(p=[w(i,"input",e[5]),u(yt.call(null,i)),w(n,"submit",T(e[2])),w(n,"keydown",e[7])],f=!0)},p(t,[e]){1&e&&i.value!==t[0]&&E(i,t[0]),1&e&&a!==(a=!t[0])&&(r.disabled=a)},i:t,o:t,d(t){t&&$(n),e[6](null),f=!1,s(p)}}}function Lt(t,e,n){const o=M();let s,{autofocus:l=!1}=e,i="";const c=()=>{n(0,i=""),s.focus()};D((()=>l&&s.focus()));return t.$$set=t=>{"autofocus"in t&&n(4,l=t.autofocus)},[i,s,()=>{o("addTodo",i),n(0,i=""),s.focus()},c,l,function(){i=this.value,n(0,i)},function(t){z[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},t=>"Escape"===t.key&&c()]}class Rt extends ht{constructor(t){super(),pt(this,t,Lt,Ot,i,{autofocus:4})}}function St(e){let n,o,s,l,i;return{c(){n=b("h2"),o=v(e[2]),s=v(" out of "),l=v(e[1]),i=v(" items completed"),k(n,"id","list-heading"),k(n,"tabindex",-1)},m(t,c){g(t,n,c),m(n,o),m(n,s),m(n,l),m(n,i),e[5](n)},p(t,[e]){4&e&&x(o,t[2]),2&e&&x(l,t[1])},i:t,o:t,d(t){t&&$(n),e[5](null)}}}function Nt(t,e,n){let o,s,l,{todos:i}=e;return t.$$set=t=>{"todos"in t&&n(3,i=t.todos)},t.$$.update=()=>{8&t.$$.dirty&&n(1,o=i.length),8&t.$$.dirty&&n(2,s=i.filter((t=>t.isComplete)).length)},[l,o,s,i,function(){l.focus()},function(t){z[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class It extends ht{constructor(t){super(),pt(this,t,Nt,St,i,{todos:3,focus:4})}get focus(){return this.$$.ctx[4]}}const Pt=[];function jt(e,n=t){let o;const s=[];function l(t){if(i(e,t)&&(e=t,o)){const t=!Pt.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),Pt.push(n,e)}if(t){for(let t=0;t<Pt.length;t+=2)Pt[t][0](Pt[t+1]);Pt.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(i,c=t){const r=[i,c];return s.push(r),1===s.length&&(o=n(l)||t),i(e),()=>{const t=s.indexOf(r);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}const Dt=jt("Welcome to the To-Do list app!"),Mt=jt(""),Ut=jt(""),zt=jt("https://mint20-loopback4:3000/");function Bt(t,e,n){const o=t.slice();return o[28]=e[n],o}function qt(t){let e;return{c(){e=b("li"),e.textContent="Nothing to do here!"},m(t,n){g(t,e,n)},d(t){t&&$(e)}}}function Vt(t,e){let n,o,s,l;return o=new kt({props:{todo:e[28]}}),o.$on("update",e[12]),o.$on("remove",e[13]),{key:t,first:null,c(){n=b("li"),ut(o.$$.fragment),s=C(),k(n,"class","todo"),this.first=n},m(t,e){g(t,n,e),dt(o,n,null),m(n,s),l=!0},p(t,n){e=t;const s={};3&n&&(s.todo=e[28]),o.$set(s)},i(t){l||(ot(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&$(n),at(o)}}}function Jt(t){let e,n,o,s,l,i,c,r,u,d,a,f,p,h,y,v,_=[],w=new Map;function T(e){t[10](e)}s=new Rt({props:{autofocus:!0}}),s.$on("addTodo",t[9]);let x={};void 0!==t[1]&&(x.filter=t[1]),i=new bt({props:x}),z.push((()=>rt(i,"filter",T)));let E={todos:t[0]};u=new It({props:E}),t[11](u);let A=t[6](t[1],t[0]);const O=t=>t[28].id;for(let e=0;e<A.length;e+=1){let n=Bt(t,A,e),o=O(n);w.set(o,_[e]=Vt(o,n))}let L=null;return A.length||(L=qt()),y=new At({props:{todos:t[0]}}),y.$on("checkAll",t[14]),y.$on("removeCompleted",t[8]),{c(){e=b("h1"),e.textContent="Svelte To-Do list",n=C(),o=b("div"),ut(s.$$.fragment),l=C(),ut(i.$$.fragment),r=C(),ut(u.$$.fragment),d=C(),a=b("ul");for(let t=0;t<_.length;t+=1)_[t].c();L&&L.c(),f=C(),p=b("hr"),h=C(),ut(y.$$.fragment),k(a,"role","list"),k(a,"class","todo-list stack-large"),k(a,"aria-labelledby","list-heading"),k(o,"class","todoapp stack-large")},m(t,c){g(t,e,c),g(t,n,c),g(t,o,c),dt(s,o,null),m(o,l),dt(i,o,null),m(o,r),dt(u,o,null),m(o,d),m(o,a);for(let t=0;t<_.length;t+=1)_[t].m(a,null);L&&L.m(a,null),m(o,f),m(o,p),m(o,h),dt(y,o,null),v=!0},p(t,[e]){const n={};!c&&2&e&&(c=!0,n.filter=t[1],F((()=>c=!1))),i.$set(n);const o={};1&e&&(o.todos=t[0]),u.$set(o),107&e&&(A=t[6](t[1],t[0]),et(),_=function(t,e,n,o,s,l,i,c,r,u,d,a){let f=t.length,p=l.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],$=new Map,b=new Map;for(h=p;h--;){const t=a(s,l,h),c=n(t);let r=i.get(c);r?o&&r.p(t,e):(r=u(c,t),r.c()),$.set(c,g[h]=r),c in m&&b.set(c,Math.abs(h-m[c]))}const y=new Set,v=new Set;function C(t){ot(t,1),t.m(c,d),i.set(t.key,t),d=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,s=n.key;e===n?(d=e.first,f--,p--):$.has(s)?!i.has(o)||y.has(o)?C(e):v.has(s)?f--:b.get(o)>b.get(s)?(v.add(o),C(e)):(y.add(s),f--):(r(n,i),f--)}for(;f--;){const e=t[f];$.has(e.key)||r(e,i)}for(;p;)C(g[p-1]);return g}(_,e,O,1,t,A,w,a,ct,Vt,null,Bt),nt(),A.length?L&&(L.d(1),L=null):L||(L=qt(),L.c(),L.m(a,null)));const s={};1&e&&(s.todos=t[0]),y.$set(s)},i(t){if(!v){ot(s.$$.fragment,t),ot(i.$$.fragment,t),ot(u.$$.fragment,t);for(let t=0;t<A.length;t+=1)ot(_[t]);ot(y.$$.fragment,t),v=!0}},o(t){st(s.$$.fragment,t),st(i.$$.fragment,t),st(u.$$.fragment,t);for(let t=0;t<_.length;t+=1)st(_[t]);st(y.$$.fragment,t),v=!1},d(l){l&&$(e),l&&$(n),l&&$(o),at(s),at(i),t[11](null),at(u);for(let t=0;t<_.length;t+=1)_[t].d();L&&L.d(),at(y)}}}function Ht(t,e,n){let o,s,l,i;c(t,zt,(t=>n(16,o=t))),c(t,Mt,(t=>n(17,s=t))),c(t,Dt,(t=>n(18,l=t))),c(t,Ut,(t=>n(19,i=t)));var u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,l){function i(t){try{r(o.next(t))}catch(t){l(t)}}function c(t){try{r(o.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};let d,a,f=o,{todos:p=[]}=e;function h(t){(function(t){return u(this,void 0,void 0,(function*(){let e=!1;try{const n=yield fetch(f+"todos/"+t.id,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}});console.log("NORRIS: response is: ",n),204==n.status&&(console.log("Deleted todo : ",t.id),e=!0)}catch(t){console.error("Delete fetch problem:",t)}return e}))})(t).then((e=>{console.log("data returned is: ",e),1==e?(n(0,p=p.filter((e=>e.id!==t.id))),r(Dt,l=`Todo '${t.title}' has been deleted`,l)):r(Dt,l=`Todo '${t.title}' was NOT deleted`,l)})),d.focus(),console.log("NORRIS: removeTodo: ",p)}function m(t){return u(this,void 0,void 0,(function*(){console.log("2 into Todos.svelte : ",p),a=0,yield function(t){return u(this,void 0,void 0,(function*(){let e=!1;try{const n=yield fetch(f+"user/"+i+"/todos",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({title:t,isComplete:!1})});yield n.json().then((t=>{console.log("doPost: add todo : ",t),console.log("with id of : ",t.id),console.log("and status is ",n.status),a=t.id,e=!0}))}catch(t){console.error("AddTodo PUT problem:",t)}return e}))}(t).then((e=>{console.log("data returned is: ",e),1==e?(console.log("NORRIS: the new id is ",a),n(0,p=[...p,{id:a,title:t,isComplete:!1,newUserRequestId:i}]),r(Dt,l=`Todo '${t}' has been added`,l)):r(Dt,l=`Todo '${t}' has NOT been added`,l)})),console.log("NORRIS: addTodo: ",p)}))}function g(t){console.log("NORRIS: updateTodo: ",p),function(t){return u(this,void 0,void 0,(function*(){let e=!1;try{const n=yield fetch(f+"todos/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({title:t.title,isComplete:t.isComplete,newUserRequestId:t.newUserRequestId})});console.log("update todo status : ",n.status),204==n.status&&(console.log("update todo : ",t.id),e=!0)}catch(t){console.error("UpdateTodo doPut problem:",t)}return e}))}(t).then((e=>{const o=p.findIndex((e=>e.id===t.id));1==e?(p[o].title!==t.title&&r(Dt,l=`todo '${p[o].title}' has been renamed to '${t.title}'`,l),p[o].isComplete!==t.isComplete&&r(Dt,l=`todo '${p[o].title}' marked as ${t.isComplete?"completed":"active"}`,l),n(0,p[o]=Object.assign(Object.assign({},p[o]),t),p)):(p[o].title!==t.title&&r(Dt,l=`todo '${p[o].title}' has NOT been renamed to '${t.title}'`,l),p[o].isComplete!==t.isComplete&&r(Dt,l=`todo '${p[o].title}' NOT marked as ${t.isComplete?"completed":"active"}`,l))})),console.log("UpdateTodo: completed doPut")}let $=mt.ALL;const b=t=>{(function(t){return u(this,void 0,void 0,(function*(){let e=!1,n=JSON.stringify({isComplete:!t,newUserRequestId:i});try{const o=yield fetch(f+"todos?where="+n,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({isComplete:t})});console.log("doCheckAllTodos todo status : ",o.status),yield o.json().then((t=>{console.log("doCheckAllTodos count : ",t.count),e=!0}))}catch(t){console.error("doCheckAllTodos HTTP problem:",t)}return e}))})(t).then((e=>{1==e?(p.forEach((e=>e.isComplete=t)),n(0,p=[...p]),console.log("NORRIS: checkAllTodos: ",p),r(Dt,l=`${t?"Checked":"Unchecked"} ${p.length} todos`,l)):r(Dt,l=(t?"Checked":"Unchecked")+" did not happen",l)}))};D((()=>{!function(){u(this,void 0,void 0,(function*(){let t=f+"user/"+i+"/todos";console.log(`NORRIS: url will be ${t}`);const e=yield fetch(f+"user/"+i+"/todos",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}),o=yield e.json().catch((t=>{console.error("getAllTodos fetch problem:",t)}));console.log("todolist : ",o),o.forEach((t=>{let e={id:0,title:"0",isComplete:!0,newUserRequestId:"0"};e.id=t.id,e.title=t.title,e.newUserRequestId=t.newUserRequestId,void 0===t.isComplete?e.isComplete=!1:e.isComplete=t.isComplete,n(0,p=[...p,e])})),console.log("NORRIS: completed mount : ",p)}))}()}));return t.$$set=t=>{"todos"in t&&n(0,p=t.todos)},t.$$.update=()=>{2&t.$$.dirty&&($===mt.ALL?r(Dt,l="Browsing all my todos",l):$===mt.ACTIVE?r(Dt,l="Browsing my active todos",l):$===mt.COMPLETED&&r(Dt,l="Browsing my completed todos",l))},[p,$,d,h,m,g,(t,e)=>t===mt.ACTIVE?e.filter((t=>!t.isComplete)):t===mt.COMPLETED?e.filter((t=>t.isComplete)):e,b,()=>{(function(){return u(this,void 0,void 0,(function*(){let t=!1,e=JSON.stringify({isComplete:!0,newUserRequestId:i});try{const n=yield fetch(f+"todos?where="+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}});console.log("doDeleteAllCompletedTodos todo status : ",n.status),yield n.json().then((e=>{console.log("doDeleteAllCompletedTodos count : ",e.count),t=!0}))}catch(t){console.error("doDeleteAllCompletedTodos HTTP problem:",t)}return t}))})().then((t=>{if(1==t){let t=p.filter((t=>t.isComplete)).length;n(0,p=p.filter((t=>!t.isComplete))),console.log("NORRIS: removeCompletedTodos: ",p),r(Dt,l=`Removed ${t} todos`,l)}else r(Dt,l="Error: removed no todos",l)}))},t=>m(t.detail),function(t){$=t,n(1,$)},function(t){z[t?"unshift":"push"]((()=>{d=t,n(2,d)}))},t=>g(t.detail),t=>h(t.detail),t=>b(t.detail)]}class Ft extends ht{constructor(t){super(),pt(this,t,Ht,Jt,i,{todos:0})}}function Wt(t){const e=t-1;return e*e*e+1}function Gt(t,{delay:e=0,duration:n=400,easing:o=Wt,x:s=0,y:l=0,opacity:i=0}={}){const c=getComputedStyle(t),r=+c.opacity,u="none"===c.transform?"":c.transform,d=r*(1-i);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*s}px, ${(1-t)*l}px);\n\t\t\topacity: ${r-d*e}`}}function Kt(t){let e,n,o,s,l,i,c,r,u,d;return{c(){e=b("div"),n=y("svg"),o=y("path"),s=C(),l=b("p"),i=v(t[0]),k(o,"d","M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"viewBox","0 0 20 20"),k(n,"class","svelte-dxta7"),k(l,"class","svelte-dxta7"),k(e,"role","alert"),k(e,"class","svelte-dxta7")},m(c,a){g(c,e,a),m(e,n),m(n,o),m(e,s),m(e,l),m(l,i),r=!0,u||(d=w(e,"click",t[3]),u=!0)},p(t,e){(!r||1&e)&&x(i,t[0])},i(t){r||(H((()=>{c||(c=it(e,Gt,{delay:250,duration:300,x:0,y:-100,opacity:.5},!0)),c.run(1)})),r=!0)},o(t){c||(c=it(e,Gt,{delay:250,duration:300,x:0,y:-100,opacity:.5},!1)),c.run(0),r=!1},d(t){t&&$(e),t&&c&&c.end(),u=!1,d()}}}function Qt(t){let e,n,o=t[1]&&Kt(t);return{c(){o&&o.c(),e=_()},m(t,s){o&&o.m(t,s),g(t,e,s),n=!0},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&ot(o,1)):(o=Kt(t),o.c(),ot(o,1),o.m(e.parentNode,e)):o&&(et(),st(o,1,1,(()=>{o=null})),nt())},i(t){n||(ot(o),n=!0)},o(t){st(o),n=!1},d(t){o&&o.d(t),t&&$(e)}}}function Xt(t,e,n){let o;c(t,Dt,(t=>n(0,o=t)));let s,l,{ms:i=3e3}=e;var r;r=()=>clearTimeout(l),j().$$.on_destroy.push(r);return t.$$set=t=>{"ms"in t&&n(2,i=t.ms)},t.$$.update=()=>{5&t.$$.dirty&&((t,e)=>{clearTimeout(l),t?(n(1,s=!0),e>0&&(l=setTimeout((()=>n(1,s=!1)),e))):n(1,s=!1)})(o,i)},[o,s,i,()=>n(1,s=!1)]}class Yt extends ht{constructor(t){super(),pt(this,t,Xt,Qt,i,{ms:2})}}function Zt(t){let e,n,o,l,i,c,r,u,d,a,f,p,h,y,_,x,A,O,L,R,S=t[2]&&te(t);return{c(){e=b("h2"),e.textContent="Login to Loopback Todo",n=C(),o=b("br"),l=C(),i=b("div"),c=b("form"),r=b("label"),u=v("Email:\r\n        "),d=b("input"),a=C(),f=b("label"),p=v("Password:\r\n        "),h=b("input"),y=C(),_=b("button"),x=v("Login"),O=C(),S&&S.c(),k(d,"type","email"),k(h,"type","password"),k(_,"type","submit"),_.disabled=A=""==t[0]||""==t[1],k(_,"class","btn"),k(c,"method","post"),k(i,"class","todoapp stack-large")},m(s,$){g(s,e,$),g(s,n,$),g(s,o,$),g(s,l,$),g(s,i,$),m(i,c),m(c,r),m(r,u),m(r,d),E(d,t[1]),m(c,a),m(c,f),m(f,p),m(f,h),E(h,t[0]),m(c,y),m(c,_),m(_,x),m(i,O),S&&S.m(i,null),L||(R=[w(d,"input",t[7]),w(h,"input",t[8]),w(c,"submit",T(t[5]))],L=!0)},p(t,e){2&e&&d.value!==t[1]&&E(d,t[1]),1&e&&h.value!==t[0]&&E(h,t[0]),3&e&&A!==(A=""==t[0]||""==t[1])&&(_.disabled=A),t[2]?S?S.p(t,e):(S=te(t),S.c(),S.m(i,null)):S&&(S.d(1),S=null)},d(t){t&&$(e),t&&$(n),t&&$(o),t&&$(l),t&&$(i),S&&S.d(),L=!1,s(R)}}}function te(t){let e,n,o,s,l,i,c,r=t[2].statusCode+"",u=t[2].message+"";return{c(){e=b("p"),n=v("Status code "),o=v(r),s=C(),l=b("br"),i=C(),c=v(u),k(e,"class","error-mess svelte-1ju2a49")},m(t,r){g(t,e,r),m(e,n),m(e,o),m(e,s),m(e,l),m(e,i),m(e,c)},p(t,e){4&e&&r!==(r=t[2].statusCode+"")&&x(o,r),4&e&&u!==(u=t[2].message+"")&&x(c,u)},d(t){t&&$(e)}}}function ee(t){let e,n,o,s,l,i,c,r,u,d,a,f,p,h;function y(e){t[9](e)}r=new Yt({});let v={};return void 0!==t[4]&&(v.todos=t[4]),d=new Ft({props:v}),z.push((()=>rt(d,"todos",y))),{c(){e=b("h2"),e.textContent="Loopback Todo",n=C(),o=b("br"),s=C(),l=b("div"),i=b("button"),i.textContent="Log Out",c=C(),ut(r.$$.fragment),u=C(),ut(d.$$.fragment),k(i,"class","btn")},m(a,$){g(a,e,$),g(a,n,$),g(a,o,$),g(a,s,$),g(a,l,$),m(l,i),g(a,c,$),dt(r,a,$),g(a,u,$),dt(d,a,$),f=!0,p||(h=w(i,"click",t[6]),p=!0)},p(t,e){const n={};!a&&16&e&&(a=!0,n.todos=t[4],F((()=>a=!1))),d.$set(n)},i(t){f||(ot(r.$$.fragment,t),ot(d.$$.fragment,t),f=!0)},o(t){st(r.$$.fragment,t),st(d.$$.fragment,t),f=!1},d(t){t&&$(e),t&&$(n),t&&$(o),t&&$(s),t&&$(l),t&&$(c),at(r,t),t&&$(u),at(d,t),p=!1,h()}}}function ne(t){let e,n,o,s=!t[3]&&Zt(t),l=t[3]&&ee(t);return{c(){s&&s.c(),e=C(),l&&l.c(),n=_()},m(t,i){s&&s.m(t,i),g(t,e,i),l&&l.m(t,i),g(t,n,i),o=!0},p(t,[o]){t[3]?s&&(s.d(1),s=null):s?s.p(t,o):(s=Zt(t),s.c(),s.m(e.parentNode,e)),t[3]?l?(l.p(t,o),8&o&&ot(l,1)):(l=ee(t),l.c(),ot(l,1),l.m(n.parentNode,n)):l&&(et(),st(l,1,1,(()=>{l=null})),nt())},i(t){o||(ot(l),o=!0)},o(t){st(l),o=!1},d(t){s&&s.d(t),t&&$(e),l&&l.d(t),t&&$(n)}}}function oe(t,e,n){let o,s,l;c(t,zt,(t=>n(10,o=t))),c(t,Mt,(t=>n(11,s=t))),c(t,Ut,(t=>n(12,l=t)));var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,l){function i(t){try{r(o.next(t))}catch(t){l(t)}}function c(t){try{r(o.throw(t))}catch(t){l(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};let u,d="",a="",f=!1,p=[],h=o;return[d,a,u,f,p,()=>i(void 0,void 0,void 0,(function*(){const t=yield fetch(h+"users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:d})}),e=yield t.json();e.token&&e.userid?(r(Mt,s=e.token,s),r(Ut,l=e.userid,l),n(3,f=!0),n(1,a=""),n(0,d=""),console.log("NORRIS: token is "+s),console.log("NORRIS: user id is "+l)):(console.log(e.error),n(2,u=e.error),n(1,a=""),n(0,d=""))})),function(){r(Mt,s="",s),r(Ut,l="",l),n(3,f=!1),n(4,p=[]),console.log("user is logged out. Userid is now: ",l)},function(){a=this.value,n(1,a)},function(){d=this.value,n(0,d)},function(t){p=t,n(4,p)}]}return new class extends ht{constructor(t){super(),pt(this,t,oe,ne,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
